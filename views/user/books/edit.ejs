<h2 class="text-3xl">Edit Book</h2>

<form action="/user/books/<%= book._id %>?_method=PUT" method="POST" class="mt-3">

    <div class="">
        <label for="title">Title</label>
        <input type="text" name="title" id="title" value="<%= book.title %>" class="block px-2 rounded-md border border-black"></input>
    </div>
    
    <div class="mt-2">
        <label for="author">Author : </label>
        <select name="author" id="author" class="block px-2 rounded-md border border-black">
            <% authors.forEach(author => { %>
                <% if (book.author === author._id) { %>
                    <option selected value="<%= author._id %>"><%= author.name %></option>
                <% } else { %>        
                    <option value="<%= author._id %>"><%= author.name %></option>
                <% } %>
            <% }) %>
        </select>
    </div>
    
    <div class="mt-2">
        <label for="publishDate">Publish Date</label>
        <input type="date" name="publishDate" id="publishDate" 
        value="<%= book.publishDate == null ? '' : book.publishDate.toISOString().split('T')[0] %>" class="block px-2 rounded-md border border-black"></input>
    </div>
        
    <div class="mt-2">
        <label for="pageCount">Number of pages</label>
        <input type="number" name="pageCount" id="pageCount" min="1" value="<%= book.pageCount %>" class="block px-2 rounded-md border border-black"></input>
    </div>
    
    <div class="mt-2">
        <label for="coverImage">Cover Image</label>
        <input type="file" name="coverImage" id="coverImage" class="filepond block px-2 rounded-md border border-black w-56"></input>
    </div>
    
    <div class="mt-2 mb-10">
        <label for="description" class="textarea-label">Description</label>
        <textarea name="description" id="description" class="block px-2 rounded-md border border-black h-36 w-2/3 max-w-md"><%= book.description %></textarea>
    </div>
    
    <div class="mt-4 flex items-center">
        <a href="/user/books/<%= book._id %>" class="px-2 rounded-md bg-gray-200 border border-black hover:bg-gray-300 transition-all ease-in mr-2">Cancel</a>
        
        <button type="submit" class="px-2 rounded-md bg-green-300 border border-black hover:bg-green-400 transition-all ease-in">Submit</button>
    </div>
</form>
